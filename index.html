<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Record KTM / NIM</title>
  <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>
  <script src="./index.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid ; padding: 10px; text-align: center; }
    button { margin: 10px 5px; padding: 10px 20px; cursor: pointer; }
    input[type="text"] { padding: 10px; width: 300px; }
    .delete-btn {  border: none; padding: 5px 10px; cursor: pointer; }
    .warning { color: red; margin-top: 10px; font-weight: bold; }
  </style>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col items-center p-8 text-gray-800">
  <!-- ALERT & CONFIRM WRAPPER -->
<div id="alertWrapper" class="relative z-50">
  <!-- Slide Alert -->
  <div id="customAlert"
       class="hidden fixed top-0 left-1/2 transform -translate-x-1/2 -translate-y-full opacity-0 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg transition-all duration-500 ease-in-out">
    <span id="alertText"></span>
  </div>

  <!-- Modal Konfirmasi Yes/No -->
  <div id="confirmModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center">
    <div class="bg-white rounded-xl p-6 shadow-lg w-full max-w-md text-center">
      <p id="confirmMessage" class="text-lg font-medium text-gray-800 mb-4">Yakin ingin melanjutkan?</p>
      <div class="flex justify-center gap-4">
        <button id="confirmYes" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg">Yes</button>
        <button id="confirmNo" class="bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-lg">No</button>
      </div>
    </div>
  </div>
</div>

  
  <div class="w-full max-w-3xl space-y-6">
    <h1 class="text-2xl font-bold text-center">Record KTM / NIM</h1>

    <!-- Dropdown Mode -->
    <div class="flex items-center gap-4">
      <label for="inputMode" class="text-sm font-medium">Mode Input:</label>
      <select
        id="inputMode"
        class="border border-gray-300 rounded px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"
      >
        <option value="uuid">UUID</option>
        <option value="nim">NIM</option>
      </select>
    </div>

   <!-- Input dan Warning dalam satu baris -->
<div class="flex items-center gap-3">
  <input
    type="text"
    id="uuidInput"
    placeholder="Scan kartu atau input NIM..."
    class="w-full border border-gray-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"
  />
  <div id="warning" class="text-sm font-medium text-green-600 min-w-max"></div>
</div>


    <!-- Tombol -->
    <div class="flex gap-4 justify-start">
      <button
        onclick="saveToExcel()"
        class="bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600 transition"
      >
        Simpan ke Excel
      </button>
      <button
        onclick="clearAllData()"
        class="bg-red-500 text-white px-6 py-2 rounded hover:bg-red-600 transition"
      >
        Hapus Semua Data
      </button>
    </div>

    <!-- Tabel -->
    <div class="overflow-x-auto max-h-[315px]">
      <table class="w-full border border-gray-300 text-sm text-center bg-white shadow rounded">
        <thead class="bg-blue-100 text-gray-700">
          <tr>
            <th class="p-2 border">No</th>
            <th class="p-2 border">UUID</th>
            <th class="p-2 border">NIM</th>
            <th class="p-2 border">Waktu</th>
            <th class="p-2 border">Aksi</th>
          </tr>
        </thead>
        <tbody id="uuidTable"></tbody>
      </table>
    </div>
  </div>

</body>
</html>
